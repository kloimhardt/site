<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Drawing on the Logarithmic Scale</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-187c114db1af335f6934abea26284e59.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Drawing on the Logarithmic Scale</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!--
Before publishing:
* set cache to false
* outcomment scittle nrepl
* open all sections

Todo:
1-3 mit neuem Mikro
4 ok
5 genauer
6 ok
7 neu
8 darum auch
9 - 11 ok
-->
<script>
document.addEventListener('contextmenu', event => event.preventDefault());
</script>
<script type="text/javascript" charset="UTF-8" src="jsfiles/jsxgraph/distrib/jsxgraphcore.js"></script>
<p><link rel="stylesheet" type="text/css" href="jsfiles/jsxgraph/distrib/jsxgraph.css"></p>
<script>var SCITTLE_NREPL_WEBSOCKET_PORT = 1340;</script>
<script src="jsfiles/scittle/dist/scittle.js" type="application/javascript"></script>
<!--
<script src="jsfiles/scittle/dist/scittle.nrepl.js" type="application/javascript"></script>
-->
<script src="jsfiles/blockly/blockly_compressed.js"></script>
<!--
<script src="jsfiles/blockly/msg/en.js"></script>
-->
<script src="jsfiles/twotiles/twotiles_core.js"></script>
<p><link rel="stylesheet" type="text/css" href="jsfiles/rigsomelight.com/css/syntax.css"></p>
<p><link rel="stylesheet" type="text/css" href="jsfiles/rigsomelight.com/assets/bootstrap/css/bootstrap.css"></p>
<p><link rel="stylesheet" type="text/css" href="jsfiles/rigsomelight.com/assets/css/style.css"></p>
<p><link rel="stylesheet" type="text/css" href="jsfiles/rigsomelight.com/assets/inline-edit/css/style.css"></p>
<p><link rel="stylesheet" type="text/css" href="jsfiles/log.css"></p>
<script>
var parse = scittle.core.eval_string(twotiles.parse_clj);
Blockly.defineBlocksWithJsonArray(twotiles.blocks);
</script>
<script>
var cleandiv = (divid) => {
const el = document.getElementById(divid);
while (el.firstChild) el.removeChild(el.firstChild);
}
var brenderT = (code,divid, bTrash) => {
cleandiv(divid);
let ws = Blockly.inject(divid,
{"sounds": false,
"scrollbars": false,
"trashcan": bTrash,
"media": "/site/jsfiles/blockly/static/media/"});

Blockly.Xml.clearWorkspaceAndLoadFromXml(Blockly.utils.xml.textToDom(parse(code)), ws);

return ws;
}

var brender = (code,divid) => brenderT(code,divid, false)
</script>
<script>var statejs = {};</script>
<script>
const delay = ms => new Promise(res => setTimeout(res, ms));
</script>
<div class="hidden">
<div id="a4b826ab" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code Preamble</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sympy</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sympy <span class="im">import</span> symbols, diff, ln</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sympy.codegen.cfunctions <span class="im">import</span> log2</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> functools</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>x0<span class="op">=</span>symbols(<span class="st">"x0"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>x1<span class="op">=</span>symbols(<span class="st">"x1"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> call(f, x):</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> f(x)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mapv(a, b):</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">map</span>(a, <span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="fl">1.0</span> <span class="op">*</span> x, b)))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mapv_indexed(f, coll):</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: [x, f(x)], <span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="fl">1.0</span> <span class="op">*</span> x, coll)))</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PipeAsCall(<span class="bu">object</span>):</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, func):</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.func <span class="op">=</span> func</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__or__</span>(<span class="va">self</span>, other):</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.func(other)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__call__</span>(<span class="va">self</span>, x):</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.func(x)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Transducer(PipeAsCall):</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">pass</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> partial(<span class="op">*</span>args):</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> PipeAsCall(</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>        functools.partial(<span class="op">*</span>args))</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> D(f):</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  var <span class="op">=</span> symbols(<span class="st">"var"</span>)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> PipeAsCall(sympy.lambdify([var], diff(f(var), var), <span class="st">"sympy"</span>))</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> rnd(expr):</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>     <span class="cf">return</span> expr.xreplace({n: <span class="bu">round</span>(n, <span class="dv">3</span>) <span class="cf">for</span> n <span class="kw">in</span> expr.atoms(sympy.Number)})</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot(f, x):</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="bu">type</span>(f)<span class="op">==</span><span class="bu">str</span>) <span class="kw">or</span> (<span class="bu">type</span>(f)<span class="op">==</span>sympy.core.numbers.Float):</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>       <span class="cf">return</span> <span class="st">"That's not something you can plot"</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>       plt.plot(x, mapv(f, x), <span class="st">"o"</span>)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plotting(f):</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">type</span>(f) <span class="op">==</span> Transducer:</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> partial(<span class="kw">lambda</span> f, coll: plt.plot(<span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x[<span class="dv">0</span>],f(coll))),<span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x[<span class="dv">1</span>],f(coll))), <span class="st">"o"</span>), f)</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> partial(<span class="kw">lambda</span> f, x: plt.plot(x, mapv(f, x), <span class="st">"o"</span>), f)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>isPositive <span class="op">=</span> <span class="kw">lambda</span> n: <span class="va">True</span> <span class="cf">if</span> n<span class="op">&gt;</span><span class="dv">0</span> <span class="cf">else</span> <span class="va">False</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> smaller(x):</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">lambda</span> n: <span class="va">True</span> <span class="cf">if</span> n<span class="op">&lt;</span>x <span class="cf">else</span> <span class="va">False</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> filtering(f):</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Transducer(functools.partial(<span class="kw">lambda</span> f,coll: <span class="bu">list</span>(<span class="bu">filter</span>(f, coll)), f))</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mapping(f):</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Transducer(functools.partial(mapv_indexed, f))</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compose(f, g):</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Transducer(<span class="kw">lambda</span> x: f(g(x)))</span></code></pre></div>
</details>
</div>
</div>
<div class="hidden">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> inspect</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># https://muted.io/note-frequencies/</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.genfromtxt(<span class="st">'notes.txt'</span>, delimiter<span class="op">=</span><span class="st">'</span><span class="ch">\t</span><span class="st">'</span>, dtype<span class="op">=</span><span class="bu">str</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>row_names <span class="op">=</span> data[:, <span class="dv">0</span>].tolist()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>numerical_data <span class="op">=</span> np.matrix.transpose(data[:, <span class="dv">1</span>:]).astype(<span class="bu">float</span>).tolist()</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>               </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;script&gt;"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"statejs['notenames']= "</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(json.dumps(row_names))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"statejs['frequencies']= "</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>nofreq <span class="op">=</span> [item</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> subl <span class="kw">in</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>      [<span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> n,f: [n, idx, f], row_names, fs))</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> idx, fs <span class="kw">in</span> <span class="bu">enumerate</span>(numerical_data)]</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> item <span class="kw">in</span> subl]</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>frequencies <span class="op">=</span> [n[<span class="dv">2</span>] <span class="cf">for</span> n <span class="kw">in</span> nofreq]</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(json.dumps([[nf[<span class="dv">0</span>] <span class="op">+</span> <span class="bu">str</span>(nf[<span class="dv">1</span>]), nf[<span class="dv">2</span>]] <span class="cf">for</span> nf <span class="kw">in</span> nofreq <span class="cf">if</span> <span class="kw">not</span> nf[<span class="dv">0</span>].endswith(<span class="st">"s"</span>)]))</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;/script&gt;"</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># instead of using the plain js</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="co"># print("&lt;script src='jsfiles/notes.js'&gt;&lt;/script&gt;")</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="co"># we load the respective Scittle code</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;script&gt;"</span>)</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'notes.cljs'</span>, <span class="st">'r'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> <span class="bu">file</span>.read().replace(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, <span class="st">''</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"scittle.core.eval_string('"</span>, data, <span class="st">"')"</span>)</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;/script&gt;"</span>)</span></code></pre></div>
<script>
statejs['notenames']= 
["C", "Cs", "D", "Ds", "E", "F", "Fs", "G", "Gs", "A", "As", "B"]
statejs['frequencies']= 
[["C0", 16.35], ["D0", 18.35], ["E0", 20.6], ["F0", 21.83], ["G0", 24.5], ["A0", 27.5], ["B0", 30.87], ["C1", 32.7], ["D1", 36.71], ["E1", 41.2], ["F1", 43.65], ["G1", 49.0], ["A1", 55.0], ["B1", 61.74], ["C2", 65.41], ["D2", 73.42], ["E2", 82.41], ["F2", 87.31], ["G2", 98.0], ["A2", 110.0], ["B2", 123.47], ["C3", 130.81], ["D3", 146.83], ["E3", 164.81], ["F3", 174.61], ["G3", 196.0], ["A3", 220.0], ["B3", 246.94], ["C4", 261.63], ["D4", 293.66], ["E4", 329.63], ["F4", 349.23], ["G4", 392.0], ["A4", 440.0], ["B4", 493.88], ["C5", 523.25], ["D5", 587.33], ["E5", 659.25], ["F5", 698.46], ["G5", 783.99], ["A5", 880.0], ["B5", 987.77], ["C6", 1046.5], ["D6", 1174.66], ["E6", 1318.51], ["F6", 1396.91], ["G6", 1567.98], ["A6", 1760.0], ["B6", 1975.53], ["C7", 2093.0], ["D7", 2349.32], ["E7", 2637.0], ["F7", 2793.83], ["G7", 3135.96], ["A7", 3520.0], ["B7", 3951.0], ["C8", 4186.0], ["D8", 4698.63], ["E8", 5274.0], ["F8", 5587.65], ["G8", 6271.93], ["A8", 7040.0], ["B8", 7902.13]]
</script>
<script>
scittle.core.eval_string(' (ns notes)(defmacro deepdef [v e] `(def ~v ~e))(defn drawstiel1 [bnotes2 shift len]  (fn [name]    (let [bp (.select bnotes2 name)]      (. bnotes2         (create "line"                 #js[#js[(fn [] (+ (.X bp) shift)) (fn [] (.Y bp))]                     #js[(fn [] (+ (.X bp) shift)) (fn [] (+ (.Y bp) len))]]                 #js{:name          (str "stlm" name)                     :straightFirst false                     :straightLast  false                     :strokeWidth   4                     :strokeColor   "black"})))))(defn plotpoints1 [bnotes2 vpp]  (run! (fn [d]          (. bnotes2 (create "point"                             #js[(:sx d) (:y d)]                             #js{:name  (:name d)                                 :color "black"})))        vpp))(defn drawlines [bnotes2 names]  (run! (fn [name]          (let [p (.select bnotes2 name)]            (. bnotes2 (create "line"                               #js[#js[150 (.Y p)] #js[1050 (.Y p)]]                               #js{:straightFirst false                                   :straightLast  false                                   :strokeWidth   1                                   :strokeColor   "black"}))))        names)  (.. bnotes2 (select "G3") (setLabel "")))(def idx220 26)(defn drawclef [brd]  (drawlines brd ["E4" "G4" "B4" "D5" "F5"])  (. brd (create "image"                     #js["/site/jsfiles/GClef.svg"                         #js[166 0.5]                         #js[76 -15]])))(defn plotpoints [bnotes2 vpp]  (plotpoints1 bnotes2 vpp)  (drawclef bnotes2)  (run! (fn [name]          (.. bnotes2 (select name) (setAttribute #js{:size 9})))        ["D4" "E4" "F4" "G4" "A4" "B4" "C5" "D5" "E5" "F5" "G5"])  (run! (drawstiel1 bnotes2 9 7)        ["D4" "E4" "F4" "G4" "A4"])  (run! (drawstiel1 bnotes2 -9 -7)        ["B4" "C5" "D5" "E5" "F5" "G5"]))(defn straight1 [y d] (* (- y d) (/ 440 7)))(defn vpp [frequencies]  (into []        (map-indexed (fn [i [name x]]                       (let [y (- i idx220)]                         {:name name                          :x    x :sx (straight1 y -2.7)                          :y    y}))                     frequencies)))(defn brdspec [bb &[axis xname yname]]  {:boundingbox   bb   :showNavigation false   :showCopyright true   :axis          (or axis false)   :grid          false   :defaultAxes   {:x {:name      (or xname "")        :withLabel true        :label     {:position "rt"                    :offset   [-5 15]                    :anchorX  "right"}        :ticks     {:visible     true                    :majorHeight 5}}    :y {:withLabel true        :name      (or yname "")        :label     {:position "rt"                    :offset   [5 -5]                    :anchorY  "top"}        :ticks {:visible     true                :majorHeight 5} }}}  )(defn main [divid]  (set! (.. js/statejs -notes -bnotes2)        (.. js/JXG            -JSXGraph            (initBoard divid                       (clj->js (brdspec [120 (- 48 idx220)                                          1080 (- 20 idx220)])))))  (plotpoints (.. js/statejs -notes -bnotes2)              (vpp (js->clj (.-frequencies js/statejs)))))((js->clj (.-frequencies js/statejs)) 26)((vpp (js->clj (.-frequencies js/statejs))) 26)(defn octave [y o]  (let [bnotes2 (.. js/statejs -notes -bnotes2)        pp      (vpp (js->clj (.-frequencies js/statejs)))]    (. bnotes2       (create "line"               (let [p1 (.select bnotes2 (:name (pp y)))                     p2 (.select bnotes2 (:name (pp (+ y o))))]                 #js[p1                     #js[(fn [] (.X p2)) (fn [] (.Y p1))]])               #js{:name          (str "oct" (:name (pp y)))                   :straightFirst false                   :straightLast  false                   :strokeWidth   2                   :strokeColor   "red"}))))(defn anim1 []  (octave 26 7)  (octave 40 -7))(defn anim2 []  (let [bnotes2 (.. js/statejs -notes -bnotes2)        pp      (vpp (js->clj (.-frequencies js/statejs)))]    (run!      (fn [tu]        (.. bnotes2            (select (:name tu))            (moveTo #js[(:x tu) (:y tu)] 1500)))      pp)))(defn anim3 []  #_(anim3)  (let [bnotes2 (.. js/statejs -notes -bnotes2)]    (run! (fn [[l f]]            (.create bnotes2                     "text"                     #js[f -2 (str l f " Hz")]                     #js{:fontsize 20 :color "black"}))          [["" 220] ["" 440] ["" 880]])))(defn anim5 []  (let [bnotes2 (.. js/statejs -notes -bnotes2)]    (.create bnotes2             "functiongraph"             #js["(7 * log(x / 220)) / log(2)"]             #js{:strokeColor "red" :strokeWidth 2})))(defn anim6 []  (set! (.. js/statejs -notes -bnotes2)        (.. js/JXG            -JSXGraph            (initBoard "divnotes2"                       (clj->js (brdspec [-320 33                                          1480 -18]                                         true                                         "Frequency"                                         "log2")))))  (run! (fn [d]          (.. js/statejs -notes -bnotes2              (create "point"                      #js[(:x d) (:y d)]                      #js{:name  (:name d)                          :color "black"                          })              (setLabel "")))        (vpp (js->clj (.-frequencies js/statejs))))  (doto (.. js/statejs -notes -bnotes2)    (drawclef )    (.create      "functiongraph"      #js["(7 * log(x / 220)) / log(2)"]      #js{:strokeColor "red" :strokeWidth 2})    #_(.create      "text"      #js[1100 22 "Logarithm"]      #js{:fontSize 24}))  (anim1))(set! (.. js/statejs -notes) #js{})(set! (.. js/statejs -notes -main) main)(set! (.. js/statejs -notes -anim1) anim1)(set! (.. js/statejs -notes -anim2) anim2)(set! (.. js/statejs -notes -anim3) anim3)(set! (.. js/statejs -notes -anim5) anim5)(set! (.. js/statejs -notes -anim6) anim6)(comment  (do    (main "divnotes2")    (def bnotes2 (.. js/statejs -notes -bnotes2))    )  (anim1)  (anim2)  (anim3)  (anim5)  (anim6)  :end) ')
</script>
</div>
<!--
> The Pythagoreans have shown that the pitch of a tone depends on the length of a cord. This was the first successful reduction of quality to quantity and therefore the beginning of science.  
> - Arthur Koestler, the Sleepwalkers
-->
<details>
<summary id="1">
1
</summary>
<div id="divnotes2" class="jxgbox" style="height:300px;">

</div>
<script>statejs.notes.main("divnotes2");</script>
<span onclick="statejs.notes.main('divnotes2')" style="color:blue">A</span> <span onclick="statejs.notes.anim1()" style="color:blue">B</span> <span onclick="statejs.notes.anim2()" style="color:blue">C</span> <span onclick="statejs.notes.anim3()" style="color:blue">D</span> <span onclick="statejs.notes.anim5()" style="color:blue">E</span> <span onclick="statejs.notes.anim6()" style="color:blue">F</span>
<div id="divnotes2_t" class="desc">
<p>Sometimes, you need to start with the basics. I am sure you have your own ways to do mathematical plots. My own way for plotting has, I think, its merits. But that’s for you to decide. I’ll come to the main quality of my way to plot in a minute. But as a first step, I needed to make a choice for the mathematical target to plot. I chose the musical scale. – The notes are logarithmic.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#1" onclick="statejs.notes.anim6();">_</a></p>
</div></div><script>var wslog2; //for .markFocused() , but that does not prevent the scrolling down to the last workspace</script>
<details>
<summary onclick="cleandiv('divnotes2_t')" id="2">
2
</summary>
<div id="blocklyDivLog2" onclick="wslog2.markFocused();" style="height: 300px;">

</div>
<script>
function v2() {
wslog2=brender("(:tiles/infix (* (log2 (:tiles/infix (/ x 220))) 7))", "blocklyDivLog2");
}
v2();
</script>
<div id="blocklyDivLog2_t" class="desc">
<p>While it is the log2 that fits the notes, it is not the plain log2. There need to be some scale factors. – If you want, you can play with the formula yourself, because this notebook is online at the following address</p>
<p><a href="https://kloimhardt.github.io/site/log.html" style="font-size: 24px">https://kloimhardt.github.io/site/log.html</a></p>
<p>But I have jumped ahead. The story starts with the Python language. And plotting just the plain log2. And that already hits upon the main message of my presentation.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#2" onclick="v2();">_</a></p>
</div></div><div class="hidden">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;script&gt;"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'log23.cljs'</span>, <span class="st">'r'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> <span class="bu">file</span>.read().replace(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, <span class="st">''</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"scittle.core.eval_string('"</span>, data, <span class="st">"')"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;/script&gt;"</span>)</span></code></pre></div>
<script>
scittle.core.eval_string(' (ns log23)(defn am [xname yname bbox &[grid]]  {:boundingbox    bbox   :showCopyright  false   :axis           true   :grid           (or grid false)   :showNavigation false   :defaultAxes   {:x {:name      xname        :withLabel true        :label     {:position "rt"                    :offset   [-5 15]                    :anchorX  "right"}        :ticks     {:visible     true                    :majorHeight 5}}    :y {:withLabel true        :name      yname        :label     {:position "rt"                    :offset   [5 -5]                    :anchorY  "top"}        :ticks {:visible     true                :majorHeight 5} }}}  )(defn mainlog [divid name]  (let [bb [120 (- 48 notes/idx220)            1080 (- 20 notes/idx220)]        am (am "Frequency [Hz]" name bb)]    (set! (.. js/statejs -log23 -brd)          (.. js/JXG              -JSXGraph              (initBoard divid (clj->js am)))))  (let [brd (.. js/statejs -log23 -brd)]    (.create brd             "functiongraph"             #js["(7 * log(x / 220)) / log(2)"]             #js{:strokeColor "red"                 :strokeWidth 2})    (run! (fn [l]            (.create brd "line"                     (clj->js l)                     #js{:straightFirst false                         :straightLast  false                         :strokeWidth   1                         :strokeColor   "black"}))          [[[0 7] [440 7]]           [[440 7] [440 0]]           [[0 14] [880 14]]           [[880 14] [880 0]]])    ))(defn main [divid]  (mainlog divid "log2(x/220) * 7"))(set! (.. js/statejs -log23) #js{})(set! (.. js/statejs -log23 -main) main)(defn anim2 []  (let [brd (.. js/statejs -log23 -brd)]    (.setBoundingBox brd #js[-320 33                             1480 -18])))(set! (.. js/statejs -log23 -anim2) anim2)(defn log3 [divid]  #_(log3 "divlog2x")  (let [bb [-5 6            35 -3]        am (am "" "" bb true)]    (set! (.. js/statejs -log23 -brd3)          (.. js/JXG              -JSXGraph              (initBoard divid (clj->js am)))))  (let [brd (.. js/statejs -log23 -brd3)]    (.create brd             "functiongraph"             #js["log(x) / log(2)"]             #js{:strokeColor "green"                 :strokeWidth 2}))  )(defn log3anim2 []  (run! (fn [l]          (.. js/statejs -log23 -brd3              (create "line"                      (clj->js l)                      #js{:straightFirst false                          :straightLast  false                          :strokeWidth   1                          :strokeColor   "black"})))        [[[0 3] [8 3]]         [[8 3] [8 0]]]))(defn log3anim3 []  (run! (fn [l]          (.. js/statejs -log23 -brd3              (create "line"                      (clj->js l)                      #js{:straightFirst false                          :straightLast  false                          :strokeWidth   1                          :strokeColor   "black"})))        [[[0 4] [16 4]]         [[16 4] [16 0]]         [[0 5] [32 5]]         [[32 5] [32 0]]         ]))(set! (.. js/statejs -log23 -log3) log3)(set! (.. js/statejs -log23 -log3anim2) log3anim2)(set! (.. js/statejs -log23 -log3anim3) log3anim3)(defn log2b [divid]  (let [bb [-2.5 6            35 -3]        am (am "" "" bb true)]    (set! (.. js/statejs -log23 -brd2b)          (.. js/JXG              -JSXGraph              (initBoard divid (clj->js am)))))  (let [brd (.. js/statejs -log23 -brd2b)]    (.create brd             "functiongraph"             #js["log(x) / log(2)"]             #js{:strokeColor "green"                 :strokeWidth 2})    (.create brd "text" #js[2.1 2.4 "steps=1"])    #_(log2b "divlog20_2")))(defn log2banim2 []  (let [brd (.. js/statejs -log23 -brd2b)]    (.create brd             "functiongraph"             #js["0.7 * log(x) / log(2)"]             #js{:strokeColor "blue"                 :strokeWidth 2})    (.create brd "text" #js[6 1.5 "steps=0.7"])))(set! (.. js/statejs -log23 -log2b) log2b)(set! (.. js/statejs -log23 -log2banim2) log2banim2)(defn logtri [divid]  #_(logtri "divlogtri")  (let [bb [-0.4 2            6 -2]        am (am "" "" bb true)]    (set! (.. js/statejs -log23 -brdtri)          (.. js/JXG              -JSXGraph              (initBoard divid (clj->js am)))))  (let [brd (.. js/statejs -log23 -brdtri)]    (.create brd             "functiongraph"             #js["0.7 * log(x) / log(2)"]             #js{:strokeColor "blue"                 :strokeWidth 2})    (.create brd "text" #js[0.3 -1.3 "steps=0.7"])    )  )(set! (.. js/statejs -log23 -logtri) logtri)(defn triangles [b x dx f & [argzero]]    (let [zero (or argzero (f x))          t0 (.create b "point" #js[x zero])          t1 (.create b "point"                      #js[(fn [] (+ (.X t0) dx))                                     (fn [] (.Y t0))]                      #js{:visible false})          t2 (.create b "point"                      #js[(fn [] (+ (.X t0) dx))                                     (fn [] (+ (.Y t0)                                               (- (f (+ x dx)) zero)))]                      #js{:visible false})]      (run! (fn [p] (.setLabel p "")) [t0 t1 t2])      [t0 t1 t2 (.create b "polygon" #js[t0 t1 t2])]))  (defn repl-poly [b t]    (let [xys  (map (fn [p] [(.X p) (.Y p)]) (butlast t))          npts (mapv (fn [xy] (.create b "point" (clj->js xy) #js{:visible false})) xys)          nply (.create b "polygon" (clj->js npts))          ]      (.setLabel (first npts) "")      (.setAttribute (first npts) #js{:visible true})      (run! (fn [o] (.removeObject b o)) (reverse t))      (conj npts nply)))  (defn shrink [b t]    (let [tn (repl-poly b t)          faktor 0.5          hohe   (- (.Y (tn 2)) (.Y (tn 1)))]      (.moveTo (tn 0) #js[(+ (.X (tn 0)) faktor) (+ (.Y (tn 0)) (* faktor hohe))] 1500)      (.moveTo (tn 1) #js[(.X (tn 1)) (+ (.Y (tn 1)) (* faktor hohe))] 1500)))  (defn trianim2 []    (set! (.. js/statejs -log23 -tri_ts)          (doall (map (fn [x] (triangles                                (.. js/statejs -log23 -brdtri)                                x                                1                                js/Math.log))                      [2 3 4]))))  (defn trianim3 []    (run! (fn [[t]] (.moveTo t #js[(.X t) 0] 1500))          (.. js/statejs -log23 -tri_ts)))  (defn trianim4 []    (.create (.. js/statejs -log23 -brdtri)             "functiongraph"             #js["1/x"]             #js{:strokeColor "black"                 :strokeWidth 1})    #_(trianim4)    (.create (.. js/statejs -log23 -brdtri)             "text"             #js[1.2 1.2 (.. js/statejs -strfrac1ovX)]             #js{:useMathJax true :fontSize 24}))(defn trianim5 []  (set! (.. js/statejs -log23 -tri_t0)        (triangles (.. js/statejs -log23 -brdtri)                   0                   1                   (fn [x] (/ 1 x))                   0)))(defn trianim6 []  (.moveTo (first (.. js/statejs -log23 -tri_t0)) #js[0 -1] 1500))(defn trianim7 []  (shrink (.. js/statejs -log23 -brdtri) (.. js/statejs -log23 -tri_t0)))(set! (.. js/statejs -log23 -trianim2) trianim2)(set! (.. js/statejs -log23 -trianim3) trianim3)(set! (.. js/statejs -log23 -trianim4) trianim4)(set! (.. js/statejs -log23 -trianim5) trianim5)(set! (.. js/statejs -log23 -trianim6) trianim6)(set! (.. js/statejs -log23 -trianim7) trianim7)(comment  (do    (main "divlog23")    (def brd (.. js/statejs -log23 -brd)))  (do    (log3 "divlog2x")    (def brd3 (.. js/statejs -log23 -brd3)))  (log3anim2)  (do    (log2b "divlog20_2")    (def brd2b (.. js/statejs -log23 -brd2b)))  (do    (logtri "divlogtri")    (def brdtri (.. js/statejs -log23 -brdtri))    :end)  (trianim2)  (trianim3)  (trianim4)  (trianim5)  (trianim6)  (trianim7)  (apply mapv vector [[1 2] [3 4]])  :end)(defn log2a [intersect steps x]  (* (/ (js/Math.log (/ x intersect)) (js/Math.log 2)) steps))(defn graphp [brd fs fun colf colp]  (let [pts1 (notes/vpp fs)        pts2 (filter (fn [n]                       (get #{"A3" "B3" "C4" "D4" "E4" "F4" "G4" "A4" "B4" "C5" "D5" "E5" "F5" "G5" "A5"} (:name n))) pts1)]    (.create brd             "functiongraph"             #js[fun]             #js{:strokeColor colf                 :strokeWidth 2})    (run! (fn [p] (.. brd                      (create "point"                              #js[(:x p) (fun (:x p))]                              #js{:color colp})                      (setLabel "")))          pts2)))(defn many [divid]  (let [bb [-320 33            1480 -18]        am (am "Frequency [Hz]" "" bb)]    (set! (.. js/statejs -log23 -brdmany)          (.. js/JXG              -JSXGraph              (initBoard divid (clj->js am)))))  (graphp (.. js/statejs -log23 -brdmany) (js->clj (.-frequencies js/statejs)) (partial log2a 220 7) "red" "black"))(defn manyanim2 [intersect steps]  #_(manyanim2 330 7)  (graphp (.. js/statejs -log23 -brdmany) (js->clj (.-frequencies js/statejs)) (partial log2a intersect steps) "green" "green"))(set! (.. js/statejs -log23 -many) many)(set! (.. js/statejs -log23 -manyanim2) manyanim2)(comment  (many "divmanylogs")  (manyanim2 330 7)  :end) ')
</script>
</div>
<!--
::: {.column-margin}
<details>
<summary>--</summary>
<div id="divlog23" class="jxgbox" style="height:150px; width: 350px"></div>
<script>
statejs.log23.main("divlog23");
statejs.log23.anim2();
</script>
</details>
:::
-->
<details>
<summary onclick="cleandiv('blocklyDivLog2_t')" id="5">
3
</summary>
<div id="blocklyDiv10" style="height: 150px; width: 800px">

</div>
<script>brender("(plot log2 [1 2 4 8])", "blocklyDiv10")</script>
<div id="309b296c" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>plot(log2, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-5-output-1.png" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="blocklyDiv10_t" class="desc">
<p>The message is this. – It is the log2 that you plot. This is so obvious that I’d like to state what log2 is not. It is not the log2 of x or y or z. Also, it is not some text that contains the string log2. Rather, log2 is a mathematical object. Only objects like this are suitable for plotting within the paradigm of my presentation.</p>
</div>
<script>
var clean5 = () => { brender("(plot log2 [1 2 4 8])", "blocklyDiv10"); cleandiv("blocklyDiv10_t");}
</script>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#5">_</a></p>
</div></div><details>
<summary onclick="clean5()" id="3">
4
</summary>
<div id="divmanylogs" class="jxgbox" style="height:300px">

</div>
<script>
statejs.log23.many("divmanylogs");

const mywait = async () => {
  statejs.log23.manyanim2(110, 7);
  await delay(500);
  statejs.log23.manyanim2(440, 7);
  await delay(500);
  statejs.log23.manyanim2(880, 7);
};

var clean3 = () => {mywait(); cleandiv("divmanylogs_t")}
</script>
<span onclick="statejs.log23.many(&quot;divmanylogs&quot;)" style="color:blue">A</span> <span onclick="mywait()" style="color:blue">B</span>
<div id="divmanylogs_t" class="desc">
<p>I am aware that you need some time for digesting my self-imposed plotting restrictions. So I move more towards the practical goal. -B- I need to get more to something like this. For that, I need to get back to the formula I showed at the start.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#3">_</a></p>
</div></div><details>
<summary onclick="clean3()" id="4">
5
</summary>
<div id="blocklyDiv5" style="height: 350px;">

</div>
<script>
var ws5 = brender(" (:tiles/infix (* (log2 (:tiles/infix (/ x 220))) 7))", "blocklyDiv5");

var addBlocks = (ws) => (s) =>
Blockly.Xml.appendDomToWorkspace(Blockly.utils.xml.textToDom(parse(s)), ws);
var abws5 = addBlocks(ws5);
</script>
<span style="color:blue">A</span> <span onclick="abws5('(def (Poe intersect steps x) :tiles/slot)');" style="color:blue">C</span> <span onclick="abws5('(return :tiles/slot)');" style="color:blue">D</span> <span onclick="abws5('(Poe intersect steps 440)')" style="color:blue">E</span>
<div id="blocklyDiv5_t" class="desc">
<p>The formula I showed at the start is not something you can plot. -B- This is the main theme again. The theme is that I need a proper mathematical target to plot. To arrive at such a target, it is necessary to bind the formula to a procedure. -C- The procedure itself I gave the name Poe. It takes three arguments. Two parameters and the frequency x. -D- The procedure does the wanted computation, it returns the value given by the formula. -E- In its code, you have to replace the numbers with the names of the two parameters. I provide the procedure as Python code. -F-</p>
</div>
</details>
<script>
var four_ = () => {
var ws4u = brender(" (def (Poe intersect steps x) (return (:tiles/infix (* (log2 (:tiles/infix (/ x intersect))) steps))))", "blocklyDiv5");
var abws4u = addBlocks(ws4u);
abws4u('(Poe 220 7 440)')
}
</script>

<!--
<details>
<summary>--</summary>
<div id="jjjobs">
<div class="cljs-editor-new"><pre>(do (defn add-blocks [s] (display-html (str "&lt;tiles&gt;" s "&lt;/tiles&gt;")) :tiles)

(add-blocks '(def (log2a intersect steps x) (return :tiles/slot))))
(add-blocks '(log2a 220 7 440))
(add-blocks '(log2a 1 1 2))</pre></div>
</div>
</details>

<script src="jsfiles/rigsomelight.com/assets/inline-edit/main.js"></script>

<script>
function mutationCallback(customFn, mutationsList, observer) {
      mutationsList.forEach((mutation) => {
        if (mutation.target.className == "cljs-html-display active" &&
            mutation.type == "childList") {
        customFn(mutation.target.childNodes[0].innerText);
        }
    });
}

const observer = new MutationObserver(mutationCallback.bind(null, addBlocks(ws5)));
const targetNode = document.getElementById("jjjobs");
const config = { attributes: true, childList: true, subtree: true };
observer.observe(targetNode, config);
</script>

-->
<!--
:::{.column-screen-left}
<details>
<summary>xx</summary>

<table class="caption-top" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="vertical-align: top"><div id="blocklyDivLog21" style="height: 150px; width: 230px">

</div>
<script>brender("(log2 x)", "blocklyDivLog21")</script></td>
<td><div id="divlog2x" class="jxgbox" style="height:300px; width: 800px">

</div>
<script>
statejs.log23.log3("divlog2x");
</script>
<span onclick="statejs.log23.log3(&quot;divlog2x&quot;)" style="color:blue">1</span> <span onclick="statejs.log23.log3anim2()" style="color:blue">2</span> <span onclick="statejs.log23.log3anim3()" style="color:blue">3</span></td>
</tr>
</tbody>
</table>

</details>
:::
-->
<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#4" onclick="four_()">_</a></p>
<details>
<summary>
B
</summary>
<div style="width: 300px">
<div id="ac125e6e" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>plot(<span class="st">"log2(x / 220) * 7"</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>"That's not something you can plot"</code></pre>
</div>
</div>
</div>
</details>
<details>
<summary>
F
</summary>
<div style="width: 300px">
<div id="7b074bfb" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> Poe(intersect, steps, x):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> log2(x<span class="op">/</span>intersect) <span class="op">*</span> steps</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>Poe(<span class="dv">220</span>, <span class="dv">7</span>, <span class="dv">440</span>)</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="6">
<p><span class="math inline">\(\displaystyle 7.0\)</span></p>
</div>
</div>
</div>
</details>
</div></div><div class="column-screen-left">
<details>
<summary onclick="cleandiv(&quot;blocklyDiv5_t&quot;)" id="6">
6
</summary>
<table>
<tbody><tr>
<td style="vertical-align: top">
<div style="width: 230px">
<img src="jsfiles/xkcd_partial.jpg" style="horizontal-align: right">
</div>
</td>
<td style="vertical-align: top">
<div id="blocklyDiv14" style="height: 400px; width: 800px">

</div>
<script>
var r14= () => brenderT("(plot log2 [1 2 4 8])", "blocklyDiv14", true);
var ws6 = r14();
</script>
<span style="color:blue">A</span> <span onclick="addBlocks(ws6)('(Poe 220 7 440)');" style="color:blue">B</span> <span onclick="addBlocks(ws6)('(partial Poe :tiles/slot :tiles/slot)');" style="color:blue">D</span> <span onclick="addBlocks(ws6)('(log2b intersect steps)'); addBlocks(ws6)('(log2b intersect steps)'); addBlocks(ws6)('(def :tiles/slot (return :tiles/slot))') " style="color:blue">F</span>
<div id="blocklyDiv14_t" class="desc">
I can plot log2 because it is a mathematical object. -B- But still I cannot plot the procedure Poe. -C- I need an operation called “partial” to transform Poe into the proper target to plot. -D- The procedure named “partial” takes “Poe” as an argument. – Then I can perform the plotting. -E- Here is the main theme in spades: “partial” taking a procedure to deliver the target to plot. -F- I turn all this into yet another procedure named log2b – That is very convenient for plotting. -G-
<div style="height: 200px;">

</div>
</div>
</td>
</tr>
</tbody></table>
</details>
</div>
<div class="hidden">
<div id="2d4d4abc" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> log2b(intersect, steps):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> partial(Poe, intersect, steps)</span></code></pre></div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<a href="#6" onclick="var ws6t=brender('(def (log2b intersect steps) (return (partial Poe intersect steps)))', 'blocklyDiv14'); addBlocks(ws6t)('(plot (log2b 220 7) [1 2 4 8])');">_</a>
<details>
<summary>
C
</summary>
<div style="width: 305px">
<div id="a50dd668" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>plot(Poe(<span class="dv">220</span>, <span class="dv">7</span>, <span class="dv">440</span>), [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>"That's not something you can plot"</code></pre>
</div>
</div>
</div>
</details>
<details>
<summary>
E
</summary>
<div style="width: 305px">
<div id="40951432" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plot(partial(Poe, <span class="dv">220</span>, <span class="dv">7</span>), [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-10-output-1.png" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div>
</details>
<details>
<summary>
G
</summary>
<div style="width: 305px">
<div id="ac27a418" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>plot(log2b(<span class="dv">220</span>, <span class="dv">7</span>), [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-11-output-1.png" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div>
</details>
</div></div><details>
<summary onclick="cleandiv('blocklyDiv14_t')" id="9">
7
</summary>
<div id="blocklyDiv19" style="height: 300px;">

</div>
<script>
r19 = () => brenderT("(plot (log2b 220 7) [1 2 4 8])", "blocklyDiv19", true);
var ws19 = r19();
var abws19 = addBlocks(ws19);
</script>
<p><span onclick="" style="color:blue">A</span> <span onclick="abws19('(call :tiles/slot :tiles/slot)')" style="color:blue">B</span> <span onclick="abws19('x0')" style="color:blue">D</span> <span onclick="abws19('x1')" style="color:blue">F</span> <span onclick="abws19('0.7')" style="color:blue">G</span></p>
<div id="blocklyDiv19_t" class="desc">
<p>Not only can log2b be plotted. -B- Log2b can also be called. -C- Not only can log2b be called with data of type number. Log2b can also be called with a symbol. -DE- Using symbols along with numbers is possible thanks to a package named Sympy. Here you see that for the name of the symbol I chose x-naught. But x-naught is only the default of possible choices. As a symbol, for example, I can also choose x1. -F- For log2b, the x1 is just yet another data that happens to be of type symbol. This idea of “symbols as data” is a source for the freedom of choice. -G- Before being able to process some data, log2b needs to be initialized with two parameters. But these do not need to be of type integer. The float 0.7 does nicely as well. -a-</p>
</div>
</details>
<script>
var fu19 = () => {
var ws19_E = brenderT("(call (log2b 1 0.7) x1)", "blocklyDiv19", true);
var abws19_E = addBlocks(ws19_E);
// abws19_E('(call (log2b 1 1) x1)')
// abws19_E('(call (log2b 1 0.7) x1)')
}
</script>

<div class="no-row-height column-margin column-container"><div class="">
<a href="#9" onclick="fu19();">_</a>
<details>
<summary>
C
</summary>
<div style="width: 300px">
<div id="83a9a214" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>call(log2b(<span class="dv">220</span>, <span class="dv">7</span>), <span class="dv">8</span>)</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="11">
<p><span class="math inline">\(\displaystyle -33.4695179946726\)</span></p>
</div>
</div>
</div>
</details>
<details>
<summary>
E
</summary>
<div style="width: 300px">
<div id="7548a61b" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>call(log2b(<span class="dv">220</span>, <span class="dv">7</span>), x0)</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="12">
<p><span class="math inline">\(\displaystyle 7 \operatorname{log}_{2}{\left(\frac{x_{0}}{220} \right)}\)</span></p>
</div>
</div>
</div>
</details>
<details>
<summary>
a
</summary>
<div style="width: 300px">
<div id="8c94de6d" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>call(log2b(<span class="dv">1</span>, <span class="fl">0.7</span>), x1)</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="13">
<p><span class="math inline">\(\displaystyle 0.7 \operatorname{log}_{2}{\left(x_{1} \right)}\)</span></p>
</div>
</div>
</div>
</details>
</div></div><details>
<summary onclick="cleandiv('blocklyDiv19_t')" id="11">
8
</summary>
<div id="divlogtri" class="jxgbox" style="height:300px;">

</div>
<script>
statejs.strfrac1ovX = "$$\\frac{1}{x}$$";
statejs.log23.logtri("divlogtri");
</script>
<span onclick="statejs.log23.logtri(&quot;divlogtri&quot;)" style="color:blue">A</span> <span onclick="statejs.log23.trianim2()" style="color:blue">B</span> <span onclick="statejs.log23.trianim3()" style="color:blue">C</span> <span onclick="statejs.log23.trianim4()" style="color:blue">D</span> <span onclick="statejs.log23.trianim5()" style="color:blue">E</span> <span onclick="statejs.log23.trianim6()" style="color:blue">F</span> <span onclick="statejs.log23.trianim7()" style="color:blue">G</span>
<div id="divlogtri_t" class="desc">
<p>I would not have bothered you with my O point seven invention, hadn’t I discovered it to be a segue to the natural logarithm. -B- In general, you can fit a series of triangles onto any curve. -C- Moving those triangles to the ground level reveals -D- that a new curve “one over x” fits their heights quite agreeably. −E− You can also try the other way around -F- That does not work quite as well. -G- The trick is to shrink the area while retaining the angles.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#11">_</a></p>
</div></div><details>
<summary onclick="cleandiv('divlogtri_t');" id="12">
9
</summary>
<div id="blocklyDiv17a" style="height:150px">

</div>
<script>var ws17a = brender("(call (log2b 1 0.7) x0)", "blocklyDiv17a")
var ab = addBlocks(ws17a);
</script>
<span onclick="ab('(D :tiles/slot)')" style="color:blue">D</span>
<div id="blocklyDiv17a_t" class="desc">
<p>I hope my triangles just formed an agreeable entertainment. For me they were (while making them). In conclusion, I assume you caught on to the topic I am aiming at: -D- differentiation. – Taking the derivative of log2b is simple and easy.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#12" onclick="brender('(call (D (log2b 1 0.7)) x0)', 'blocklyDiv17a');">_</a></p>
</div></div><details>
<summary onclick="cleandiv('blocklyDiv17a_t');" id="13">
10
</summary>
<div id="e45ca690" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>call(D(log2b(<span class="dv">1</span>, <span class="fl">0.7</span>)), x0).evalf()</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="14">
<p><span class="math inline">\(\displaystyle \frac{1.00988652862227}{x_{0}}\)</span></p>
</div>
</div>
<div id="blocklyDiv22a" style="height:100px">

</div>
<script>
var r13 = () => brender("(call (D ln) x0)", "blocklyDiv22a");
r13();
</script>
<div id="fcf87aab" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>call(D(ln), x0)</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="15">
<p><span class="math inline">\(\displaystyle \frac{1}{x_{0}}\)</span></p>
</div>
</div>
<div id="blocklyDiv22a_t" class="desc">
<p>With the log2b initialized at O point seven, I calculate its derivative. As a result I almost get one over x. To become exact, I need to switch to “ln”, the natural logarithm. The pictures above can, within this presentation, be called its pinnacle. As a kind of confirmation, I’d like to drop some names. In math, the procedure named “call” is a functional while D is an operator. In computer science, both is called functions of higher order. The natural logarithm “ln” of course is a function in any field.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#blocklyDiv22a" onclick="r13();">_</a></p>
</div></div><details>
<summary onclick="cleandiv('blocklyDiv22a_t');" id="14">
–
</summary>
<span class="math display">\[\Large \left. \frac{d \ln(x)}{dx} \right|_{x=x_0}\]</span>
<div id="tex14_t" class="desc">
<p>I’d like to wind down with a note on notation. When I differentiate a function like “ln” and then evaluate that derivative at x-naught, the common notation is the vertical bar. This bar is also called “pipe”.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#blocklyDiv22a">_</a></p>
</div></div><details>
<summary onclick="cleandiv('tex14_t');" id="15">
–
</summary>
<div id="blocklyDivpipe" style="height:300px">

</div>
<script>
var r15 = () => brenderT("(call (D ln) x0)", "blocklyDivpipe", true);
ws15x=r15();
</script>
<span onclick="addBlocks(ws15x)('(:tiles/slot :tiles/slot)')" style="color:blue">B</span>
<div id="blocklyDivpipe_t" class="desc">
<p>Inspired by math, I also use pipe in my pictures. -B- Note that it is not the D operator that is replaced by the pipe, but it is the “call” that is dropped. – Not only can “pipe” be used in pictorial representations. The pipe can also be used within Python code. -C- You might think that my pipe notation is hard to implement. This is not so. My custom pipe is just a few lines of Python. – The pipe symbol is an invented alternative notation. For the following grand finale, I’d like to discover its explenatory virtues.</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<a href="#15" onclick="brenderT('((D ln) x0)', 'blocklyDivpipe', true)">_</a>
<details>
<summary>
C
</summary>
<div id="858b02d2" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(D(ln) <span class="op">|</span> x0)</span></code></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="16">
<p><span class="math inline">\(\displaystyle \frac{1}{x_{0}}\)</span></p>
</div>
</div>
</details>
<details>
<summary>
–
</summary>
<div style="width: 300px">
<div id="c2fe3dd7" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PipeAsCall(<span class="bu">object</span>):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, func):</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.func <span class="op">=</span> func</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__or__</span>(<span class="va">self</span>, other):</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.func(other)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__call__</span>(<span class="va">self</span>, x):</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.func(x)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> partial(<span class="op">*</span>args):</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> PipeAsCall(</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        functools.partial(<span class="op">*</span>args))</span></code></pre></div>
</div>
</div>
</details>
</div></div><details>
<summary onclick="cleandiv('blocklyDivpipe_t');" id="16">
11
</summary>
<div id="blocklyDivTrans" style="height: 500px;">

</div>
<script>
wsTra = brenderT("(plot ln [1 2 4 8])", "blocklyDivTrans", true);
var abwsTra = addBlocks(wsTra);
</script>
<span style="color:blue">A</span> <span onclick="abwsTra('((plotting :tiles/slot) :tiles/slot)')" style="color:blue">B</span> <span onclick="abwsTra('frequencies')" style="color:blue">C</span> <span onclick="abwsTra('((filtering (smaller 900)) :tiles/slot)')" style="color:blue">E</span> <span onclick="abwsTra('(compose (mapping :tiles/slot) :tiles/slot)')" style="color:blue">G</span> <span onclick="abwsTra('(D :tiles/slot)')" style="color:blue">b</span>
<div id="blocklyDivTrans_t" class="desc">
<p>The pipe notation is very versatile. I can also use it when plotting something. -B- In my dataset, -C- the highest frequency is eight kilohertz. -D- I’d like to cut that down to 900 cycles per second. -E- So I apply a filter – and plot. -F- I want to move the filtering to the left. Or in a more picturesque manner: I want the filtering to be ahead of the pipes. For this, I use function composition. -G- This composition is completely decoupled from input sources and output formats. This leads to a method commonly known as “transducing” – Transducers are ahead of the pipe. -ab- For sure you can insert differentiation into the composition as easily as ever. -c-</p>
</div>
</details>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="#16">_</a></p>
<details>
<summary>
D
</summary>
<div style="width: 310px">
<div id="cd59efe9" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(plotting(ln) <span class="op">|</span> frequencies)</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-19-output-1.png" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div>
</details>
<details>
<summary>
F
</summary>
<div style="width: 310px">
<div id="a880e47f" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(plotting(ln) <span class="op">|</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  (filtering(smaller(<span class="dv">900</span>)) <span class="op">|</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    frequencies))</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-20-output-1.png" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div>
</details>
<details>
<summary>
a
</summary>
<div style="width: 310px">
<div id="b0533297" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>(plotting</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  (compose</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    (mapping(ln), </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>     filtering(smaller(<span class="dv">900</span>)))) <span class="op">|</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  frequencies)</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-21-output-1.png" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div>
</details>
<details>
<summary>
c
</summary>
<div style="width: 310px">
<div id="ee3e6c22" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(plotting</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  (compose</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    (mapping(D(ln)), </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>     filtering(smaller(<span class="dv">900</span>)))) <span class="op">|</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  frequencies)</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="log_files/figure-html/cell-22-output-1.png" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div>
</details>
</div></div><div style="height: 900px;">

</div>
<details>
<summary>
Appendix
</summary>
<p>Source code of this Quarto generated page: <a href="https://github.com/kloimhardt/site/blob/main/mysite/log.qmd">https://github.com/kloimhardt/site/blob/main/mysite/log.qmd</a></p>
<p>Interactive workspace: <a href="https://kloimhardt.github.io/cljtiles.html?page=higherorder">https://kloimhardt.github.io/cljtiles.html?page=higherorder</a></p>
<img src="./jsfiles/GClef.svg"> <img src="./jsfiles/blockly/static/media/sprites.png">
</details>
<script>
document.querySelectorAll("details")
.forEach(d => d.setAttribute("open", ""))
</script>



</main> <!-- /main -->
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>